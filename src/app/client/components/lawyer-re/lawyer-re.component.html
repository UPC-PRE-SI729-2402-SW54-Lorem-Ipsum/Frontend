<div class="recommendation-container">
  <h3 class="mat-title-small">RECOMENDACIONES</h3>

  <div *ngIf="lawyers.length > 0" class="recommendation-card">
    <button (click)="prevLawyer()" [disabled]="currentIndex === 0">
      <span>&lt;</span>
    </button>

    <div class="lawyer-info">
      <img [src]="currentLawyer.image_profile" alt="{{ currentLawyer.name }}" class="lawyer-image">
      <div class="spacer"></div>
      <div class="info-container">
        <h4>{{ currentLawyer.name }} {{ currentLawyer.lastname }}</h4>
        <p>{{ currentLawyer.speciality }}</p>
        <div class="stars">
          <span *ngFor="let star of [1, 2, 3, 4, 5]; let i = index"
                [class.filled]="i < currentLawyer.rating">★</span>
        </div>
      </div>
    </div>

    <button (click)="nextLawyer()" [disabled]="currentIndex === lawyers.length - 1">
      <span>&gt;</span>
    </button>
  </div>

  <div *ngIf="lawyers.length === 0">
    <p>Cargando abogados...</p>
  </div>
</div>

<div class="recent-cases-section">
  <h3 class="mat-title-small">ÚLTIMOS CASOS</h3>

  <mat-card *ngFor="let last_case of currentLawyer?.last_case || []" class="caso-item">
    <div class="estado {{ last_case.status === 'ABIERTO' ? 'abierto' : 'cerrado' }}">
      {{ last_case.status }}
    </div>
    <mat-card-content class="caso-info">
      <h4>{{ last_case.title }}</h4>
      <p>{{ last_case.description }}</p>
    </mat-card-content>
  </mat-card>
</div>
